---
- name: Brew - Check if already installed {{ item }}
  ansible.builtin.shell:
    cmd: brew list | grep -q "{{ item }}"
  register: brew_cask_check
  changed_when: false
  failed_when: false
  tags: ["brew"]

- name: Brew - Installing {{ item }}
  community.general.homebrew_cask:
    name: "{{ item }}"
    state: present
    sudo_password: "{{ become_pass }}"
  when: not brew_cask_check.rc == 0
  tags: ["brew"]
